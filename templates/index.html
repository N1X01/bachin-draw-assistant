<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bachin SVG Assistant</title>
</head>
<body>
    <h2>Bachin SVG Assistant</h2>

    {% if not csv_uploaded %}
    <form method="post" enctype="multipart/form-data">
        <label>Select CSV File:</label><br>
        <input type="file" name="csv_file" required><br><br>
        <button type="submit">Upload CSV & Select Column</button>
    </form>

    {% else %}
    <form action="/generate" method="post">
        <input type="hidden" name="csv_filename" value="{{ csv_filename }}">

        <label>Select Column to use in message:</label><br>
        <select name="column_name">
            {% for col in columns %}
            <option value="{{col}}">{{col}}</option>
            {% endfor %}
        </select><br><br>

        <label>Message Template:</label><br>
        <input type="text" name="message_template" placeholder="Hi [ColumnName], thanks for your purchase!" required style="width:300px;"><br>
        <small>Use the exact column name in brackets, e.g., [First Name]</small><br><br>

        <button type="submit">Generate SVG</button>
    </form>
    {% endif %}
</body>
</html>
